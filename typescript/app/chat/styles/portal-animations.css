/* Portal Animations - Dimension Travel Effect */

/* Subtle pulse/glow for the portal button */
@keyframes portal-pulse {
  0%, 100% {
    opacity: 0.7;
    transform: scale(1);
    filter: brightness(1) drop-shadow(0 0 8px rgba(139, 111, 71, 0.4));
  }
  50% {
    opacity: 1;
    transform: scale(1.08);
    filter: brightness(1.3) drop-shadow(0 0 12px rgba(139, 111, 71, 0.7));
  }
}

.portal-button-pulse {
  animation: portal-pulse 3s ease-in-out infinite;
  will-change: transform, opacity, filter;
}

/* Portal zoom effect - creates the "traveling through dimension" effect */
@keyframes portal-zoom {
  0% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1) rotate(0deg);
    filter: blur(0px) brightness(1);
  }
  5% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1.3) rotate(18deg);
    filter: blur(0.3px) brightness(1.05);
  }
  10% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1.7) rotate(36deg);
    filter: blur(0.6px) brightness(1.1);
  }
  15% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(2.2) rotate(54deg);
    filter: blur(0.9px) brightness(1.15);
  }
  20% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(2.8) rotate(72deg);
    filter: blur(1.2px) brightness(1.2);
  }
  25% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(3.5) rotate(90deg);
    filter: blur(1.5px) brightness(1.25);
  }
  30% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(4.5) rotate(108deg);
    filter: blur(2px) brightness(1.3);
  }
  35% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(5.8) rotate(126deg);
    filter: blur(2.5px) brightness(1.35);
  }
  40% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(7.5) rotate(144deg);
    filter: blur(3px) brightness(1.4);
  }
  45% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(9.5) rotate(162deg);
    filter: blur(3.8px) brightness(1.45);
  }
  50% {
    opacity: 0.98;
    transform: translate(-50%, -50%) scale(12) rotate(180deg);
    filter: blur(4.8px) brightness(1.5);
  }
  55% {
    opacity: 0.95;
    transform: translate(-50%, -50%) scale(15) rotate(198deg);
    filter: blur(6px) brightness(1.55);
  }
  60% {
    opacity: 0.92;
    transform: translate(-50%, -50%) scale(18.5) rotate(216deg);
    filter: blur(7.5px) brightness(1.6);
  }
  65% {
    opacity: 0.88;
    transform: translate(-50%, -50%) scale(22.5) rotate(234deg);
    filter: blur(9px) brightness(1.65);
  }
  70% {
    opacity: 0.82;
    transform: translate(-50%, -50%) scale(27) rotate(252deg);
    filter: blur(11px) brightness(1.7);
  }
  75% {
    opacity: 0.75;
    transform: translate(-50%, -50%) scale(32) rotate(270deg);
    filter: blur(13px) brightness(1.75);
  }
  80% {
    opacity: 0.65;
    transform: translate(-50%, -50%) scale(37.5) rotate(288deg);
    filter: blur(15px) brightness(1.85);
  }
  85% {
    opacity: 0.5;
    transform: translate(-50%, -50%) scale(43) rotate(306deg);
    filter: blur(17px) brightness(2);
  }
  90% {
    opacity: 0.35;
    transform: translate(-50%, -50%) scale(46.5) rotate(324deg);
    filter: blur(19px) brightness(2.2);
  }
  95% {
    opacity: 0.15;
    transform: translate(-50%, -50%) scale(48.5) rotate(342deg);
    filter: blur(20px) brightness(2.4);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(50) rotate(360deg);
    filter: blur(22px) brightness(2.5);
  }
}

.portal-zoom-element {
  transform-origin: center center;
  will-change: transform, opacity, filter;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

.portal-zoom-active {
  animation: portal-zoom 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  pointer-events: none;
}

/* Overlay that darkens the screen during portal travel */
@keyframes portal-overlay {
  0% {
    opacity: 0;
    background: rgba(0, 0, 0, 0);
  }
  10% {
    opacity: 0.15;
    background: rgba(0, 0, 0, 0.1);
  }
  20% {
    opacity: 0.3;
    background: rgba(0, 0, 0, 0.2);
  }
  30% {
    opacity: 0.45;
    background: rgba(0, 0, 0, 0.35);
  }
  40% {
    opacity: 0.6;
    background: rgba(0, 0, 0, 0.45);
  }
  50% {
    opacity: 0.7;
    background: rgba(0, 0, 0, 0.55);
  }
  60% {
    opacity: 0.78;
    background: rgba(0, 0, 0, 0.65);
  }
  70% {
    opacity: 0.85;
    background: rgba(0, 0, 0, 0.75);
  }
  80% {
    opacity: 0.92;
    background: rgba(0, 0, 0, 0.85);
  }
  90% {
    opacity: 0.96;
    background: rgba(0, 0, 0, 0.93);
  }
  100% {
    opacity: 1;
    background: rgba(0, 0, 0, 1);
  }
}

.portal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 9998;
  opacity: 0;
  background: rgba(0, 0, 0, 0);
}

.portal-overlay.portal-overlay {
  animation: portal-overlay 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

/* Hover effect for portal button - override pulse animation */
.portal-button:hover .portal-button-pulse {
  animation-play-state: paused;
  transform: scale(1.15) !important;
  filter: brightness(1.4) drop-shadow(0 0 16px rgba(139, 111, 71, 0.8)) !important;
  transition: transform 0.2s ease, filter 0.2s ease;
}

